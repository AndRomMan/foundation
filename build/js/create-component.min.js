"use strict";import{flatArray}from"./flat-array.min.js";const ALL_ID="all-",LIST_NOT_FOUND="not found",OUTER_TYPE="outer",INNER_TYPE="inner",MAIN_ROOT_LIST='ul[id="0"]',mainRootList=document.querySelector('ul[id="0"]'),INNER_BOX_FIELD_TEMPLATE="#inner_box_form_field",innerBoxFieldTemplate=document.querySelector("#inner_box_form_field"),INNER_BOX_ITEM_TEMPLATE="#inner_box_item",innerBoxItemTemplate=document.querySelector("#inner_box_item"),OUTER_BOX_FIELD_TEMPLATE="#outer_box_form_field",outerBoxFieldTemplate=document.querySelector("#outer_box_form_field"),OUTER_BOX_ITEM_TEMPLATE="#outer_box_item",outerBoxItemTemplate=document.querySelector("#outer_box_item"),SINGLE_FIELD_TEMPLATE="#single_form_field",singleFieldTemplate=document.querySelector("#single_form_field");let components=[];function createHtmlStructure(e){let t=document.createDocumentFragment();e.forEach((e=>{let{parentId:n,id:o,name:r,children:l}=e;if(0===n&&!1===l){setFormField(createSingleField(o,r),t)}if(0===n&&!0===l){setFormField(createOuterBoxField(o,r),t)}if(0!==n&&!0===l){if("not found"!==getTypeOfParentBox(n,t)){setComponent(createInnerBoxField(o,r),t,n)}}if(0!==n&&!1===l){let e=getTypeOfParentBox(n,t);if("outer"===e){setComponent(createOuterBoxItem(o,r),t,n)}if("inner"===e){setComponent(createInnerBoxItem(o,r),t,n)}}})),mainRootList.append(t),components.length=0}function setFormField(e,t){t.append(e)}function createSingleField(e,t){return setIdAndLabel(singleFieldTemplate.cloneNode(!0).content,e,t)}function createOuterBoxField(e,t){return setIdLabelAndSummary(outerBoxFieldTemplate.cloneNode(!0).content,e,t)}function getTypeOfParentBox(e,t){let n="not found",o=t.querySelector(`ul[id="${String(e)}"]`);return o&&(n=o.dataset.list),"not found"===n&&console.log(`не найден родительский список id=${e}`),n}function createOuterBoxItem(e,t){return setIdAndLabel(outerBoxItemTemplate.cloneNode(!0).content,e,t)}function createInnerBoxItem(e,t){return setIdAndLabel(innerBoxItemTemplate.cloneNode(!0).content,e,t)}function createInnerBoxField(e,t){return setIdLabelAndSummary(innerBoxFieldTemplate.cloneNode(!0).content,e,t)}function setIdAndLabel(e,t,n){e.querySelector("input").id=String(t);let o=e.querySelector("label");return o.setAttribute("for",t),o.textContent=n,e}function setIdLabelAndSummary(e,t,n){e.querySelector("summary").textContent=n,e.querySelector("ul").id=t;let o=e.querySelector("input"),r="all-"+String(t);o.id=r;let l=e.querySelector("label");return l.setAttribute("for",r),l.textContent=`Все ${n.toLowerCase()}`,e}function setComponent(e,t,n){t.querySelector(`ul[id="${String(n)}"]`).append(e)}flatArray&&(components=flatArray),createHtmlStructure(components);
//# sourceMappingURL=create-component.min.js.map
