{"version":3,"sources":["get-flat-array-of-components.js"],"names":["MAIN_ROOT_LIST","CHECKBOX","ROOT_LIST","ALL_ID","mainRootList","document","querySelector","ComponentObject","parentId","id","name","children","this","componentArray","getComponentArray","root","sortArray","getParentElements","getChildrenElements","outParentArray","querySelectorAll","forEach","element","getParentList","getSummaryName","componentObject","push","startsWith","closest","getLabelName","nextElementSibling","textContent","trim","previousElementSibling","parentElement","inputArray","sort","a","b"],"mappings":"AACA,aAEA,MAAMA,eAAiB,aACjBC,SAAW,wBACXC,UAAY,KACZC,OAAS,OAEf,IAAIC,aAAeC,SAASC,cALL,cAOnBC,gBAAkB,SAAUC,EAAUC,EAAIC,EAAMC,GAClDC,KAAKJ,SAAWA,EAChBI,KAAKH,GAAKA,EACVG,KAAKF,KAAOA,EACZE,KAAKD,SAAWA,GAGdE,eAAiBC,kBAAkBV,cAEvC,SAASU,kBAAkBC,GAKzB,OAAOC,UAFW,IAFGC,kBAAkBF,MAChBG,oBAAoBH,KAM7C,SAASE,kBAAkBF,GACzB,IAAII,EAAiB,GAYrB,OAVeJ,EAAKK,iBAzBJ,MA0BPC,SAASC,IAChB,IAAIb,EAAKa,EAAQb,GACbD,EAAWe,cAAcD,GAASb,GAClCC,EAAOc,eAAeF,GAEtBG,EAAkB,IAAIlB,gBAAgBC,EAAUC,EAAIC,GADzC,GAEfS,EAAeO,KAAKD,MAGfN,EAGT,SAASD,oBAAoBH,GAC3B,IAAII,EAAiB,GAarB,OAXeJ,EAAKK,iBAAiB,IAAInB,YAChCoB,SAASC,IAChB,IAAIb,EAAKa,EAAQb,GACjB,GAAIA,EAAGkB,WA3CI,QA2CgB,OAC3B,IAAInB,EAAWc,EAAQM,QA7CT,MA6C4BnB,GACtCC,EAAOmB,aAAaP,GAEpBG,EAAkB,IAAIlB,gBAAgBC,EAAUC,EAAIC,GADzC,GAEfS,EAAeO,KAAKD,MAGfN,EAGT,SAASU,aAAaP,GACpB,OAAOA,EAAQQ,mBAAmBC,YAAYC,OAGhD,SAASR,eAAeF,GACtB,OAAOA,EAAQW,uBAAuBF,YAAYC,OAGpD,SAAST,cAAcD,GACrB,OAAOA,EAAQY,cAAcN,QAhEb,MAmElB,SAASZ,UAAUmB,GAIjB,OAHAA,EAAWC,MAAK,SAAUC,EAAGC,GAC3B,OAAOD,EAAE7B,SAAW8B,EAAE9B,YAEjB2B","file":"get-flat-array-of-components.min.js","sourcesContent":["/* eslint-disable no-console */\n'use strict';\n\nconst MAIN_ROOT_LIST = 'ul[id=\"0\"]';\nconst CHECKBOX = 'checkbox-block__input';\nconst ROOT_LIST = 'ul';\nconst ALL_ID = 'all-';\n\nlet mainRootList = document.querySelector(MAIN_ROOT_LIST);\n\nlet ComponentObject = function (parentId, id, name, children) {\n  this.parentId = parentId;\n  this.id = id;\n  this.name = name;\n  this.children = children;\n};\n\nlet componentArray = getComponentArray(mainRootList);\n\nfunction getComponentArray(root) {\n  let parentElements = getParentElements(root);\n  let childrenElements = getChildrenElements(root);\n  let allElements = [...parentElements, ...childrenElements];\n\n  return sortArray(allElements);\n}\n\nfunction getParentElements(root) {\n  let outParentArray = [];\n\n  let elements = root.querySelectorAll(ROOT_LIST);\n  elements.forEach((element) => {\n    let id = element.id;\n    let parentId = getParentList(element).id;\n    let name = getSummaryName(element);\n    let children = true;\n    let componentObject = new ComponentObject(parentId, id, name, children);\n    outParentArray.push(componentObject);\n  });\n\n  return outParentArray;\n}\n\nfunction getChildrenElements(root) {\n  let outParentArray = [];\n\n  let elements = root.querySelectorAll(`.${CHECKBOX}`);\n  elements.forEach((element) => {\n    let id = element.id;\n    if (id.startsWith(ALL_ID)) return;\n    let parentId = element.closest(ROOT_LIST).id;\n    let name = getLabelName(element);\n    let children = false;\n    let componentObject = new ComponentObject(parentId, id, name, children);\n    outParentArray.push(componentObject);\n  });\n\n  return outParentArray;\n}\n\nfunction getLabelName(element) {\n  return element.nextElementSibling.textContent.trim();\n}\n\nfunction getSummaryName(element) {\n  return element.previousElementSibling.textContent.trim();\n}\n\nfunction getParentList(element) {\n  return element.parentElement.closest(ROOT_LIST);\n}\n\nfunction sortArray(inputArray) {\n  inputArray.sort(function (a, b) {\n    return a.parentId - b.parentId;\n  });\n  return inputArray;\n}\n"]}